简介
-----

工具官网 https://www.charlesproxy.com/

Charles是在Mac下常用的网络封包截取工具，在做移动开发时，我们为了调试与服务器端的网络通讯协议，常常需要截取网络封包来分析。
Charles通过将自己设置成系统的网络访问代理服务器，使得所有的网络访问请求都通过它来完成，从而实现了网络封包的截取和分析。
除了在做移动开发中调试端口外，Charles也可以用于分析第三方应用的通讯协议。配合Charles的SSL功能，Charles还可以分析Https协议。
Charles是收费软件，可以免费试用30天。试用期过后，未付费的用户仍然可以继续使用，但是每次使用时间不能超过30分钟，并且启动时将会有10秒种的延时。因此，该付费方案对广大用户还是相当友好的，即使你长期不付费，也能使用完整的软件功能。只是当你需要长时间进行封包调试时，会因为Charles强制关闭而遇到影响。

Charles主要的功能包括：

1. 截取Http和Https网络封包。
2. 支持重发网络请求，方便后端调试。
3. 支持修改网络请求参数。
4. 支持网络请求的截获并动态修改。
5. 支持模拟慢速网络。

安装Charles
-----------

去Charles的官方网站（http://www.charlesproxy.com）下载最新版的Charles安装包，是一个dmg后缀的文件。打开后将Charles拖到Application目录下即完成安装。

将Charles设置成系统代理
-----------------------

之前提到，Charles是通过将自己设置成代理服务器来完成封包截取的，所以使用Charles的第一步是将其设置成系统的代理服务器。
启动Charles后，第一次Charles会请求你给它设置系统代理的权限。你可以输入登录密码授予Charles该权限。你也可以忽略该请求，然后在需要将Charles设置成系统代理时，选择菜单中的“Proxy”->“Mac OS X Proxy”来将Charles设置成系统代理。

