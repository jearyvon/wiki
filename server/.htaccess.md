前言
---------

URL重定向是.htaccess的重头戏，它可以将长地址转为短地址、将动态地址转为静态地址、重定向丢失的页面、防止盗链、实现自动语言转换等。晦涩点是在正则表达式的运用和理解上。

实现所有这些神奇功能的模块叫做mod_rewrite，请确保你的Apache安装并启用了该模块。胡乱写一些错误代码如果报错也可以确认是否开启模块。

* FollowSymlinks必须启用，这是rewrite引擎的安全需求。通常FollowSymlinks在Apache的主配置文件中就已经启用了，所以通常可以省略。
* RewriteEngine命令用于启用rewrite引擎。
* IfModule命令用于判断Apache是否安装了mod_rewrite模块，加上判断是个好习惯。

```
<IfModule mod_rewrite.c>
Options +FollowSymlinks 
RewriteEngine on
RewriteRule ...
</IfModule>
```

URL重写与URL重定向
------------------

**将.html页面映射到.php**
```
<IfModule mod_rewrite.c>
Options +FollowSymlinks
RewriteEngine on
RewriteRule ^(.*)\.html$ $1.php [NC]
<IfModule>
```
注意事项：

* 该RewriteRule能够将.html静态页面映射到.php动态页面
* 如果通过.html进入，浏览器地址栏显示的是.html扩展名，但服务器上实际执行的是.php
* 必须保证服务器上有对应的.php，否则会报404错误
* 浏览器和搜索引擎可以同时通过.html和.php访问网页
* 如果该目录上存在.html，将被忽略
* [NC]表示不区分大小写


.htaccess正则
-------------

[传送门](http://lesca.me/archives/htaccess-appendix.html)
